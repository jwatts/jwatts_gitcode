<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <rule>
        <name>EFM_RPT_Trip_getMyTrips</name>
        <uuid>_a-0000dd17-9077-8000-9ba2-011c48011c48_6582</uuid>
        <description>Returns a user's trips</description>
        <parentUuid>_a-0000dd17-9077-8000-9ba2-011c48011c48_6579</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>&#xD;
/* NOTE: currently passing in hardcoded userid TODO: null handling */&#xD;
&#xD;
=load(&#xD;
  local!pagingInfo:#&quot;SYSTEM_SYSRULES_pagingInfo&quot;(startIndex:1,batchSize:10,sort:#&quot;SYSTEM_SYSRULES_sortInfo&quot;(field:&quot;tripDateTime&quot;,ascending:false)),&#xD;
  local!data: #&quot;_a-0000dd17-9077-8000-9ba2-011c48011c48_6538&quot;(userId: 1,pagingInfo:local!pagingInfo),&#xD;
  #&quot;SYSTEM_SYSRULES_dashboardLayout&quot;(&#xD;
    firstColumnContents: {&#xD;
      /* Null check returning a banner notifying user that */&#xD;
      /* they don't have any trips associated with their account */&#xD;
      if(#&quot;_a-0000d62a-67b3-8000-da6f-010000010000_951&quot;(local!data.data),&#xD;
        #&quot;0573d4fe-fcb5-4251-ad0e-081f618a4796&quot;(type: &quot;Trips&quot;),&#xD;
        {&#xD;
          #&quot;SYSTEM_SYSRULES_sectionLayout&quot;(&#xD;
            label: &quot;My Trips&quot;,&#xD;
            firstColumnContents: {&#xD;
&#xD;
              /* This grid is not configured to page and sort */&#xD;
              #&quot;SYSTEM_SYSRULES_gridField&quot;(&#xD;
                labelPosition: &quot;COLLAPSED&quot;,&#xD;
                totalCount: local!data.totalCount,&#xD;
                columns: {&#xD;
                  #&quot;SYSTEM_SYSRULES_gridTextColumn&quot;(label: &quot;Date&quot;,field:&quot;tripDateTime&quot;,data:index(local!data.data,&quot;tripDateTime&quot;, {})),&#xD;
                  #&quot;SYSTEM_SYSRULES_gridTextColumn&quot;(alignment:&quot;RIGHT&quot;,label: &quot;Mileage&quot;,field:&quot;mileage&quot;,data:apply(fixed(_,2),index(local!data.data,&quot;mileage&quot;, {}))),&#xD;
                  #&quot;SYSTEM_SYSRULES_gridImageColumn&quot;(label: &quot;Approved&quot;, data: {&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_NOTDONE&quot;), altText: &quot;Rejected icon&quot;, caption: &quot;Rejected&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_NOTDONE&quot;), altText: &quot;Rejected icon&quot;, caption: &quot;Rejected&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_NOTDONE&quot;), altText: &quot;Rejected icon&quot;, caption: &quot;Rejected&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_OK&quot;), altText: &quot;Approved icon&quot;, caption: &quot;Approved&quot;),&#xD;
                    #&quot;SYSTEM_SYSRULES_documentImage&quot;(document: #&quot;SYSTEM_SYSRULES_iconIndicator&quot;(&quot;STATUS_NOTDONE&quot;), altText: &quot;Rejected icon&quot;, caption: &quot;Rejected&quot;)&#xD;
                  }, size: &quot;ICON&quot;)&#xD;
                },&#xD;
                value: local!pagingInfo,&#xD;
                saveInto:{&#xD;
                  local!pagingInfo,&#xD;
                  a!save(local!data,#&quot;_a-0000dd17-9077-8000-9ba2-011c48011c48_6538&quot;(userId: 1,pagingInfo:save!value))&#xD;
                }&#xD;
              )&#xD;
            }&#xD;
          ),&#xD;
          #&quot;SYSTEM_SYSRULES_sectionLayout&quot;(&#xD;
            firstColumnContents:{&#xD;
              #&quot;SYSTEM_SYSRULES_lineChartField&quot;(&#xD;
                label: &quot;Mileage per Date/Time&quot;,&#xD;
                showLegend: false,&#xD;
                yAxisMin:0,&#xD;
                series: #&quot;SYSTEM_SYSRULES_chartSeries&quot;(&#xD;
                  label:&quot;Miles&quot;,&#xD;
                  data: local!data.data.mileage&#xD;
                ),&#xD;
                categories: local!data.data.tripDateTime&#xD;
              ),&#xD;
              #&quot;SYSTEM_SYSRULES_textField&quot;(&#xD;
                label: &quot;Average Overall Cost per Mile:&quot;,&#xD;
                readOnly: true,&#xD;
                labelPosition: &quot;ADJACENT&quot;,&#xD;
                value: #&quot;45d6696b-2f83-4ebe-a151-a294c988bede&quot;(tripData: local!data)&#xD;
              )&#xD;
            }&#xD;
          )&#xD;
        }&#xD;
      )&#xD;
    }&#xD;
  )&#xD;
)&#xD;
</definition>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
    </rule>
    <roleMap public="true">
        <role allowForAll="false" inherit="true" name="readers">
            <users/>
            <groups/>
        </role>
        <role allowForAll="false" inherit="true" name="authors">
            <users/>
            <groups/>
        </role>
        <role allowForAll="false" inherit="true" name="administrators">
            <users>
                <userUuid>justin.watts</userUuid>
            </users>
            <groups/>
        </role>
        <role allowForAll="false" inherit="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role allowForAll="false" inherit="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role allowForAll="false" inherit="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
</contentHaul>
